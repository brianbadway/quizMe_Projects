{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block extra_styles %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
        crossorigin="anonymous">
{% endblock %}

{% block content %}
<body>
    <div class="container">
        <table class="table">
            <h3>Your Dashboard</h3>
            <div class="bg-light d-flex justify-content-between">
                <a href="new_quiz">Create new Quiz</a><a href="logout">Logout</a> 
            </div>
            <br>
            <thead>
                <th>Quiz</th>
                <th>Description</th>
                <th>Creator</th>
                <th>High Score</th>
                <th>Actions</th>
            </thead>
            <tbody>
            {% for quiz in all_quizzes %}   
            <tr> 
                <td><a href="{{ quiz.id }}">{{ quiz.title }}</a></td>
                <br>                    
                <td>{{ quiz.description  }}</td>
                <br>                    
                <td>{{ quiz.created_by.first_name  }} {{ quiz.created_by.last_name  }}</td>
                <br>                  
                <td><p>{{ this_user.has_results }}</p></td>
                <br>
                
                {% if quiz.created_by.id == request.session.user_id %}                    
                <td><a href="/{{quiz.id}}/edit_quiz">Edit</a> | <a href="/{{quiz.id}}/delete_quiz">Delete</a></td>
                {% endif %}
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" 
crossorigin="anonymous"></script>
</body>
{% endblock %}